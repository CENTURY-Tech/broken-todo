<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Broken Todo List</title>

  <script src="https://cdn.rawgit.com/download/polymer-cdn/1.5.0/lib/webcomponentsjs/webcomponents-lite.min.js"></script>

  <link rel="import" href="https://cdn.rawgit.com/download/polymer-cdn/1.5.0/lib/iron-collapse/iron-collapse.html">
  <link rel="import" href="./broken-todo.html">

  <style>
    .collapseTitle {
      cursor: pointer;
    }
    li.bug iron-collapse{
      background: #eee;
      padding: 1em;
    }
  </style>
</head>

<body>
  <h2>Broken Todo</h2>
  <p>
    <h3>Known Bugs:</h3>
    <ul class="bugs">
      <li class="bug">
        <strong class="collapseTitle">should not add empty items</strong>
        <iron-collapse id="collapse">
            <h4>Steps to Reproduce</h4>
            <ul>
              <li>Press save. A new todo item with an empty title was added.</li>
            </ul>
            <h4>Expected Behaviour</h4>
            <div>No item should be added. Cancel should be disabled until text is added</div>
        </iron-collapse>
      </li>
      <li class="bug">
        <strong class="collapseTitle">cancel should reset the input</strong>
        <iron-collapse id="collapse">
            <h4>Steps to Reproduce</h4>
            <ul>
              <li>Type something in the input element</li>
              <li>Press cancel</li>
              <li>Press save. A new todo item was added.</li>
            </ul>
            <h4>Expected Behaviour</h4>
            <div>No item should be added.</div>
        </iron-collapse>
      </li>
      <li class="bug">
        <strong class="collapseTitle">editing the first item duplicates it</strong>
        <iron-collapse id="collapse">
            <h4>Steps to Reproduce</h4>
            <ul>
              <li>Add several todo items</li>
              <li>Click on the first item on the list</li>
              <li>Change the text in the input element</li>
              <li>Press save. A new todo item was added</li>
            </ul>
            <h4>Expected Behaviour</h4>
            <div>It should change the title of the first item in the todo list.</div>
        </iron-collapse>
      </li>
      <li class="bug">
        <strong class="collapseTitle">disabled items may still be editable</strong>
        <iron-collapse id="collapse">
          <div>
            <h4>Steps to Reproduce</h4>
            <ul>
              <li>Add several todo items</li>
              <li>Click on the second task in the list</li>
              <li>Disable the task by pressing the x button</li>
              <li>change the value in the top input</li>
              <li>press save</li>
            </ul>
            <h4>Expected Behaviour</h4>
            <div>The input should have been cleared when the todo was disabled</div>
          </div>
        </iron-collapse>
      </li>
    </ul>
  </p>

  <broken-todo max-items="10"></broken-todo>

  <script>
    const bugs = document.querySelector(".bugs");
    bugs.addEventListener("click", (evt) => {
      if (evt.target.classList.contains("collapseTitle")) {
        evt.target.nextElementSibling.toggle();
      }
    });
  </script>
</body>

</html>